"use strict";"require fs";"require network";"require uci";var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64re=/^(?:[A-Za-z\d+\\/]{4})*?(?:[A-Za-z\d+\\/]{2}(?:==)?|[A-Za-z\d+\\/]{3}=?)?$/,v={getLocalIPs:function(){return network.getNetworks().then((function(e){for(var t=["127.0.0.1","0.0.0.0","::"],r=0,n=e;r<n.length;r++){var o=n[r],i=o.getIPAddr(),a=o.getIP6Addr();i&&t.indexOf(i)<0&&t.push(i);var c=void 0;a&&(c=a.split("/")[0])&&t.indexOf(c)<0&&t.push(c)}return t.sort()}))},getSections:function(e,t){return void 0===t&&(t="alias"),uci.load("v2ray").then((function(){var r=[];return uci.sections("v2ray",e,(function(e){var n;(n=e[t])&&r.push({caption:n,value:e[".name"]})})),r})).catch((function(){return[]}))},fileExist:function(e){return fs.stat(e).then((function(){return!0})).catch((function(){return!1}))},base64Decode:window.atob||function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!b64re.test(e))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");e+="==".slice(2-(3&e.length));for(var t,r,n,o="",i=0;i<e.length;)t=b64.indexOf(e.charAt(i++))<<18|b64.indexOf(e.charAt(i++))<<12|(r=b64.indexOf(e.charAt(i++)))<<6|(n=b64.indexOf(e.charAt(i++))),o+=64===r?String.fromCharCode(t>>16&255):64===n?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return o},base64Encode:window.btoa||function(e){for(var t,r,n,o,i="",a=0,c=(e=String(e)).length%3;a<e.length;){if((r=e.charCodeAt(a++))>255||(n=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");t=r<<16|n<<8|o,i+=b64.charAt(t>>18&63)+b64.charAt(t>>12&63)+b64.charAt(t>>6&63)+b64.charAt(63&t)}return c?i.slice(0,c-3)+"===".substring(c):i}};return L.Class.extend(v);