"use strict";"require form";"require fs";"require baseclass";var CUSTOMTextValue=form.TextValue.extend({filepath:null,cfgvalue:function(){return this.filepath?L.resolveDefault(fs.read(this.filepath),""):this.super("cfgvalue",arguments)},write:function(e,t){if(!this.filepath)return this.super("write",arguments);var r=t.trim().replace(/\r\n/g,"\n")+"\n";return fs.write(this.filepath,r)},validate:function(e,t){if(!t)return _("%s is required.").format(this.title);try{JSON.parse(t)}catch(e){return _("Invalid JSON content.")}return!0}});return baseclass.extend({TextValue:CUSTOMTextValue});